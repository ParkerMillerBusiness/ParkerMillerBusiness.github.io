<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ES Modules Example</title>
</head>
<body>
    <script type="module">
        import { Configuration, OpenAIApi } from 'https://cdn.jsdelivr.net/npm/openai';

        const configuration = new Configuration({
            apiKey: "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",
        });

        const openai = new OpenAIApi(configuration);

        async function getCompletion() {
            try {
                const completion = await openai.createChatCompletion({
                    model: "gpt-4o-mini",
                    messages: [
                        { role: "system", content: "You are a helpful assistant." },
                        { role: "user", content: "What's 1+1?" },
                    ],
                });
                console.log(completion.data.choices[0].message.content);
            } catch (error) {
                console.error("Error fetching completion:", error);
            }
        }

        document.addEventListener('DOMContentLoaded', getCompletion);
    </script>
</body>
</html>